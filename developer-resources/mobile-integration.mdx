---
title: Mobile Integration Guide
icon: "mobile"
description: Unified guide for integrating Dodo Payments into Android, iOS, React Native and Flutter mobile applications.
---

<CardGroup cols={2}>
<Card title="Quick Start" icon="rocket" href="#integration-workflow">
  Get your mobile payment integration running in 4 simple steps
</Card>

<Card title="Platform Examples" icon="code" href="#platform-specific-integration">
  Complete code examples for Android, iOS, React Native, and Flutter
</Card>
</CardGroup>

## Prerequisites

Before integrating Dodo Payments into your mobile app, ensure you have:

- **Dodo Payments Account**: Active merchant account with API access
- **API Credentials**: API key and webhook secret key from your dashboard
- **Mobile App Project**: Android, iOS, React Native, or Flutter application
- **Backend Server**: To securely handle checkout session creation

## Integration Workflow

The mobile integration follows a secure 4-step process where your backend handles API calls and your mobile app manages the user experience.

<Steps>
<Step title="Backend: Create Checkout Session">
<Card title="Checkout Session API Docs" icon="book" href="/developer-resources/checkout-session">
Learn how to create a checkout session in your backend using Node.js, Python, and more. See complete examples and parameter references in the dedicated <strong>Checkout Sessions API</strong> documentation.
</Card>
<Note>
**Security**: Checkout sessions must be created on your backend server, never in the mobile app. This protects your API keys and ensures proper validation.
</Note>

</Step>

<Step title="Mobile: Get Checkout URL">

Your mobile app calls your backend to get the checkout URL:

<Tabs>
<Tab title="iOS (Swift)">
```swift
func getCheckoutURL(productId: String, customerEmail: String, customerName: String) async throws -> String {
    let url = URL(string: "https://your-backend.com/api/create-checkout-session")!
    var request = URLRequest(url: url)
    request.httpMethod = "POST"
    request.setValue("application/json", forHTTPHeaderField: "Content-Type")
    
    let requestData: [String: Any] = [
        "productId": productId,
        "customerEmail": customerEmail,
        "customerName": customerName
    ]
    request.httpBody = try JSONSerialization.data(withJSONObject: requestData)
    
    let (data, _) = try await URLSession.shared.data(for: request)
    let response = try JSONDecoder().decode(CheckoutResponse.self, from: data)
    return response.checkout_url
}
```
</Tab>
<Tab title="Android (Kotlin)">
```kotlin
suspend fun getCheckoutURL(productId: String, customerEmail: String, customerName: String): String {
    val client = OkHttpClient()
    val requestBody = JSONObject().apply {
        put("productId", productId)
        put("customerEmail", customerEmail)
        put("customerName", customerName)
    }.toString().toRequestBody("application/json".toMediaType())
    
    val request = Request.Builder()
        .url("https://your-backend.com/api/create-checkout-session")
        .post(requestBody)
        .build()
    
    val response = client.newCall(request).execute()
    val responseBody = response.body?.string()
    val jsonResponse = JSONObject(responseBody ?: "")
    return jsonResponse.getString("checkout_url")
}
```
</Tab>
<Tab title="React Native (JavaScript)">
```javascript
const getCheckoutURL = async (productId, customerEmail, customerName) => {
  try {
    const response = await fetch('https://your-backend.com/api/create-checkout-session', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        productId,
        customerEmail,
        customerName
      })
    });
    
    const data = await response.json();
    return data.checkout_url;
  } catch (error) {
    console.error('Failed to get checkout URL:', error);
    throw error;
  }
};
```
</Tab>
</Tabs>
<Note>
**Security**: Mobile apps only communicate with your backend, never directly with Dodo Payments API.
</Note>
</Step>

<Step title="Mobile: Open Checkout in Browser">
Open the checkout URL in a secure in-app browser for payment processing.

<Card 
  title="See platform-specific integration examples" 
  icon="box" 
  href="#platform-specific-integration"
>
  View full code and setup instructions for Android, iOS, and Flutter mobile payments.
</Card>

</Step>

<Step title="Backend: Handle Payment Completion">
Process payment completion via webhooks and redirect URLs to confirm payment status.
</Step>
</Steps>

## Platform-Specific Integration

Choose your mobile platform below for complete implementation examples:

<Tabs>
<Tab title="Android">

### Android Integration

#### Chrome Custom Tabs Implementation

```kotlin
// Add Chrome Custom Tabs dependency to build.gradle
implementation 'androidx.browser:browser:1.5.0'

// In your Activity
class PaymentActivity : AppCompatActivity() {
    private var customTabsSession: CustomTabsSession? = null
    private var customTabsClient: CustomTabsClient? = null
    private var customTabsServiceConnection: CustomTabsServiceConnection? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        // Initialize Custom Tabs
        customTabsServiceConnection = object : CustomTabsServiceConnection() {
            override fun onCustomTabsServiceConnected(name: ComponentName, client: CustomTabsClient) {
                customTabsClient = client
                customTabsClient?.warmup(0L)
                customTabsSession = customTabsClient?.newSession(object : CustomTabsCallback() {
                    override fun onNavigationEvent(navigationEvent: Int, extras: Bundle?) {
                        // Handle navigation events
                    }
                })
            }
            override fun onServiceDisconnected(name: ComponentName) {
                customTabsClient = null
            }
        }
        CustomTabsClient.bindCustomTabsService(
            this,
            "com.android.chrome",
            customTabsServiceConnection!!
        )
        // Get checkout URL from backend and launch
        lifecycleScope.launch {
            try {
                val checkoutURL = getCheckoutURL("prod_123", "customer@example.com", "Customer Name")
                val customTabsIntent = CustomTabsIntent.Builder(customTabsSession)
                    .build()
                customTabsIntent.launchUrl(this@PaymentActivity, Uri.parse(checkoutURL))
            } catch (e: Exception) {
                // Handle error
                Log.e("PaymentActivity", "Failed to get checkout URL", e)
            }
        }
    }
}
```

</Tab>
<Tab title="iOS">

### iOS Integration

#### SFSafariViewController Implementation

```swift
import SafariServices
class PaymentViewController: UIViewController {
    override func viewDidLoad() {
        super.viewDidLoad()
        Task {
            do {
                let checkoutURL = try await getCheckoutURL(
                    productId: "prod_123",
                    customerEmail: "customer@example.com",
                    customerName: "Customer Name"
                )
                if let url = URL(string: checkoutURL) {
                    let safariVC = SFSafariViewController(url: url)
                    present(safariVC, animated: true, completion: nil)
                }
            } catch {
                // Handle error
                print("Failed to get checkout URL: \(error)")
            }
        }
    }
}
```

#### Deep Link Handling

Configure URL schemes to handle payment completion redirects:

**1. Set up URL schemes in Info.plist:**
```xml
<key>CFBundleURLTypes</key>
<array>
  <dict>
    <key>CFBundleURLName</key>
    <string>myapp</string>
    <key>CFBundleURLSchemes</key>
    <array>
      <string>myapp</string>
    </array>
  </dict>
</array>
```

**2. Handle redirects in AppDelegate:**
```swift
func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
    if url.scheme == "myapp" && url.host == "payment-status" {
        NotificationCenter.default.post(name: .paymentCompleted, object: url)
        return true
    }
    return false
}
```

**3. Listen for payment completion:**
```swift
NotificationCenter.default.addObserver(self, selector: #selector(handlePaymentCompletion(_:)), name: .paymentCompleted, object: nil)

@objc func handlePaymentCompletion(_ notification: Notification) {
    if let url = notification.object as? URL {
        safariVC?.dismiss(animated: true)
        // Parse payment status from URL parameters
        let components = URLComponents(url: url, resolvingAgainstBaseURL: false)
        let paymentId = components?.queryItems?.first(where: { $0.name == "payment_id" })?.value
        let status = components?.queryItems?.first(where: { $0.name == "status" })?.value
        // Handle payment completion
    }
}
```

</Tab>
<Tab title="React Native">
### React Native Integration

Dodo Payments provides **two approaches** for React Native integration. Choose based on your needs:

| Feature | Approach 1: Checkout Links | Approach 2: SDK |
|---------|---------------------------|-----------------|
| **Installation** | `react-native-inappbrowser-reborn` | `dodopayments-react-native-sdk` |
| **UI Experience** | Browser-based hosted page | Native payment sheet |
| **Customization** | Limited (Dodo's UI) | Extensive (colors, themes, shapes) |
| **Deep Links** | Required for callbacks | Not required |
| **Backend Returns** | `checkout_url` | `client_secret` |
| **Result Handling** | URL callbacks | Direct SDK response |
| **Best For** | Quick setup, minimal code | Production apps, custom branding |

---

#### Approach 1: Using Checkout Links (InAppBrowser)

Open Dodo's hosted checkout page in an in-app browser.

##### InAppBrowser Implementation

```javascript
import React from 'react';
import { View, TouchableOpacity, Text, Alert } from 'react-native';
import { InAppBrowser } from 'react-native-inappbrowser-reborn';

const PaymentButton = ({ productId, onPaymentComplete }) => {
  const openPaymentLink = async () => {
    try {
      // Get checkout URL from backend
      const checkoutURL = await getCheckoutURL(
        productId,
        'customer@example.com',
        'Customer Name'
      );
      
      const result = await InAppBrowser.open(checkoutURL, {
        // iOS options
        dismissButtonStyle: 'cancel',
        preferredBarTintColor: '#453AA4',
        preferredControlTintColor: 'white',
        readerMode: false,
        animated: true,
        modalPresentationStyle: 'fullScreen',
        modalTransitionStyle: 'coverVertical',
        modalEnabled: true,
        enableBarCollapsing: false,
        // Android options
        showTitle: true,
        toolbarColor: '#453AA4',
        secondaryToolbarColor: 'black',
        navigationBarColor: 'black',
        navigationBarDividerColor: 'white',
        enableUrlBarHiding: true,
        enableDefaultShare: true,
        forceCloseOnRedirection: false,
        animations: {
          startEnter: 'slide_in_right',
          startExit: 'slide_out_left',
          endEnter: 'slide_in_left',
          endExit: 'slide_out_right'
        },
        headers: {
          'my-custom-header': 'my custom header value'
        }
      });

      // Handle payment completion based on result
      if (result.type === 'dismiss') {
        // User dismissed the browser
        console.log('Payment browser dismissed');
      }
    } catch (error) {
      Alert.alert('Error', 'Failed to open payment page');
      console.error('InAppBrowser error:', error);
    }
  };

  return (
    <View style={{ padding: 20 }}>
      <TouchableOpacity
        style={{
          backgroundColor: '#007AFF',
          padding: 15,
          borderRadius: 8,
          alignItems: 'center'
        }}
        onPress={openPaymentLink}
      >
        <Text style={{ color: 'white', fontSize: 16, fontWeight: 'bold' }}>
          Pay Now
        </Text>
      </TouchableOpacity>
    </View>
  );
};

export default PaymentButton;
```

#### Deep Link Handling for Payment Callbacks

```javascript
// App.js or your main component
import React, { useEffect } from 'react';
import { Linking } from 'react-native';

const App = () => {
  useEffect(() => {
    // Handle deep links when app is already running
    const handleDeepLink = (url) => {
      if (url.includes('payment-status')) {
        const urlParams = new URLSearchParams(url.split('?')[1]);
        const paymentId = urlParams.get('payment_id');
        const status = urlParams.get('status');
        
        // Handle payment completion
        handlePaymentCallback(paymentId, status);
      }
    };

    // Listen for deep links
    const subscription = Linking.addEventListener('url', ({ url }) => {
      handleDeepLink(url);
    });

    // Handle deep link if app was opened from a link
    Linking.getInitialURL().then((url) => {
      if (url) {
        handleDeepLink(url);
      }
    });

    return () => subscription?.remove();
  }, []);

  const handlePaymentCallback = (paymentId, status) => {
    if (status === 'succeeded') {
      // Navigate to success screen or show success message
      console.log('Payment successful:', paymentId);
    } else {
      // Handle payment failure
      console.log('Payment failed:', paymentId);
    }
  };

  // Your app components...
};

export default App;
```

#### Package Dependencies

Add this dependency to your `package.json`:

```json
{
  "dependencies": {
    "react-native-inappbrowser-reborn": "^6.4.0"
  }
}
```

#### Installation Commands

```bash
# Install InAppBrowser
npm install react-native-inappbrowser-reborn
cd ios && pod install
```

#### Android Configuration

Add to `android/app/src/main/AndroidManifest.xml`:

```xml
<activity
  android:name="com.reactnativeinappbrowserreborn.InAppBrowserActivity"
  android:theme="@style/Theme.AppCompat.Dialog"
  android:exported="false" />
```

#### iOS Configuration

Add to `ios/YourApp/Info.plist`:

```xml
<key>CFBundleURLTypes</key>
<array>
  <dict>
    <key>CFBundleURLName</key>
    <string>myapp</string>
    <key>CFBundleURLSchemes</key>
    <array>
      <string>myapp</string>
    </array>
  </dict>
</array>
```

<Tip>
Use InAppBrowser for native browser experience. Handle deep links for payment callbacks.
</Tip>

---

#### Approach 2: Using React Native SDK (BETA)

Present native payment UI directly in your app using the Dodo Payments React Native SDK.

<Note>
**Recommended for production apps** - Provides native payment experience with full customization control.
</Note>

##### Prerequisites

Before using the SDK, ensure you have:

- **Publishable Key**: Get from [Dodo Payments Dashboard](https://app.dodopayments.com/developer/others)
- **Backend Server**: To create payment intents securely
- **Product IDs**: Configured in your Dodo Payments dashboard

<Warning>
**Security**: Use **publishable key** in your app, **never** the secret API key.
</Warning>

##### Installation & Setup

```bash
# Install the SDK
npm install dodopayments-react-native-sdk
# or
yarn add dodopayments-react-native-sdk

# iOS only - install pods
cd ios && pod install && cd ..
```

**Package.json dependency:**
```json
{
  "dependencies": {
    "dodopayments-react-native-sdk": "^0.3.1"
  }
}
```

**Minimum Requirements:**
- iOS 13.0+
- Android API 24+ (Android 7.0)

##### Step 1: Wrap Your App with DodoPaymentsProvider

The provider must wrap all components that use payment features.

```tsx
// App.tsx
import React from 'react';
import { DodoPaymentsProvider } from 'dodopayments-react-native-sdk';
import PaymentScreen from './PaymentScreen';

const PUBLISHABLE_KEY = process.env.DODO_PUBLISHABLE_KEY;

function App() {
  return (
    <DodoPaymentsProvider publishableKey={PUBLISHABLE_KEY}>
      {/* Your app components */}
      <PaymentScreen />
    </DodoPaymentsProvider>
  );
}

export default App;
```

**Setup environment variables:**

Create `.env` file in your project root:
```bash
# .env
DODO_PUBLISHABLE_KEY=your_publishable_key_here
```

<Note>
The publishable key initializes the SDK on the client side. Get it from your [Dodo Payments Dashboard](https://app.dodopayments.com/developer/others).
</Note>

##### Step 2: Create Payment Intent on Backend

<Warning>
**Critical**: Payment intents MUST be created on your backend server, never in the mobile app. This protects your secret API key.
</Warning>

Your backend needs to call the Dodo Payments API to create a payment intent and return the `client_secret`.

**Backend Example (Node.js/Express):**

```javascript
// server.js
const express = require('express');
const app = express();

app.use(express.json());

app.post('/create-payment-intent', async (req, res) => {
  try {
    const response = await fetch('https://test.dodopayments.com/payments', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        // Use SECRET API key here
        'Authorization': `Bearer ${process.env.DODOPAYMENTS_TEST_API_KEY}`
      },
      body: JSON.stringify({
        product_cart: [
          {
            product_id: 'pdt_xxxxx', // Your product ID from dashboard
            quantity: 1
          }
        ],
        customer: {
          email: req.body.email || 'customer@example.com',
          name: req.body.name || 'Customer Name'
        },
        billing: {
          city: 'San Francisco',
          country: 'US',
          state: 'California',
          street: '123 Main St',
          zipcode: '94107'
        }
      })
    });

    const paymentIntent = await response.json();
    
    // Return only the client_secret to mobile app
    res.json({
      clientSecret: paymentIntent.client_secret
    });
  } catch (error) {
    console.error('Payment intent creation failed:', error);
    res.status(500).json({ error: 'Failed to create payment intent' });
  }
});

app.listen(5252, () => {
  console.log('Server running on port 5252');
});
```

**Backend Environment Variables (.env):**
```bash
# server/.env
DODOPAYMENTS_TEST_API_KEY=your_secret_api_key_here  # Keep this SECRET!
```

<Note>
**Security Architecture**:
- Mobile App uses **publishable key** - safe to expose
- Backend uses **secret API key** - must be kept private
- Mobile app only receives `client_secret` (one-time use token)
</Note>

##### Step 3: Implement Payment Screen

Use the `useCheckout` hook to present the payment sheet.

```tsx
// PaymentScreen.tsx
import React, { useState } from 'react';
import { View, Button, Alert, ActivityIndicator, Platform } from 'react-native';
import { useCheckout } from 'dodopayments-react-native-sdk';

const PaymentScreen = () => {
  const { initPaymentSession, presentPaymentSheet } = useCheckout();
  const [loading, setLoading] = useState(false);

  // Platform-specific backend URLs
  // iOS Simulator: use localhost
  // Android Emulator: use 10.0.2.2 (maps to host machine's localhost)
  const BACKEND_URL = Platform.OS === 'ios' 
    ? 'http://localhost:5252' 
    : 'http://10.0.2.2:5252';

  const handlePayment = async () => {
    setLoading(true);
    
    try {
      // Step 1: Get client secret from your backend
      console.log('Fetching client secret from backend...');
      const response = await fetch(`${BACKEND_URL}/create-payment-intent`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          email: 'customer@example.com',
          name: 'John Doe'
        })
      });
      
      if (!response.ok) {
        throw new Error('Failed to create payment intent');
      }
      
      const { clientSecret } = await response.json();
      console.log('Client secret received');

      // Step 2: Initialize payment session with the SDK
      console.log('Initializing payment session...');
      const sessionParams = await initPaymentSession({ clientSecret });
      
      if (!sessionParams) {
        throw new Error('Failed to initialize payment session');
      }

      // Step 3: Present payment sheet to user
      console.log('Presenting payment sheet...');
      const result = await presentPaymentSheet(sessionParams);
      console.log('Payment result:', result);

      // Step 4: Handle payment result
      switch (result?.status) {
        case 'succeeded':
          Alert.alert(
            'Success! 🎉', 
            'Your payment was completed successfully!',
            [{ text: 'OK', onPress: () => {/* Navigate to success screen */} }]
          );
          break;
          
        case 'failed':
          Alert.alert(
            'Payment Failed', 
            result?.message || 'Something went wrong. Please try again.'
          );
          break;
          
        case 'cancelled':
          Alert.alert(
            'Payment Cancelled', 
            'You cancelled the payment. Your cart is still active.'
          );
          break;
          
        default:
          console.log('Unknown payment status:', result?.status);
      }
    } catch (error) {
      console.error('Payment error:', error);
      Alert.alert(
        'Error', 
        'Failed to process payment. Please check your connection and try again.'
      );
    } finally {
      setLoading(false);
    }
  };

  return (
    <View style={{ flex: 1, justifyContent: 'center', padding: 20 }}>
      {loading ? (
        <ActivityIndicator size="large" color="#007AFF" />
      ) : (
        <Button 
          title="Pay Now" 
          onPress={handlePayment}
          color="#007AFF"
        />
      )}
    </View>
  );
};

export default PaymentScreen;
```

##### Step 4: Customize Appearance (Optional)

The SDK supports extensive customization to match your brand.

```tsx
// Customize the payment sheet appearance
const handlePayment = async () => {
  // ... fetch clientSecret ...
  
  const sessionParams = await initPaymentSession({ clientSecret });

  // Add custom appearance configuration
  const customizedParams = {
    ...sessionParams,
    configuration: {
      appearance: {
        themes: 'light', // 'light' or 'dark'
        primaryButton: {
          colors: {
            light: {
              background: '#007AFF',           // Button background
              componentBorder: '#007AFF',      // Border color
              placeholderText: '#999999'       // Placeholder text
            },
            dark: {
              background: '#0A84FF',           // Dark mode button
              componentBorder: '#0A84FF',      // Dark mode border
              placeholderText: '#EBEBF5'       // Dark mode placeholder
            }
          },
          shapes: {
            borderRadius: 8,    // Rounded corners
            borderWidth: 1      // Border thickness
          }
        }
      },
      mode: 'test' // Use 'live' for production
    }
  };

  const result = await presentPaymentSheet(customizedParams);
  // ... handle result ...
};
```

##### Handle Payment Results

The SDK returns a result object with status and message.

```tsx
interface PaymentResult {
  status: 'succeeded' | 'failed' | 'cancelled';
  message?: string;
}
```

**Result Status Guide:**

| Status | What it Means | What to Do |
|--------|---------------|------------|
| `succeeded` | Payment completed successfully | Show confirmation, update order status, navigate to success screen |
| `failed` | Payment processing failed | Display error message, allow user to retry, log error for debugging |
| `cancelled` | User closed payment sheet | Return to checkout, keep cart intact, no error needed |

##### Testing Your Integration

Use Dodo's test cards during development:

**Test Card Numbers:**

| Card Type | Card Number | Result |
|-----------|-------------|--------|
| **Success** | `4242 4242 4242 4242` | Payment succeeds |
| **Decline** | `4000 0000 0000 0002` | Payment fails (card declined) |

**Test Card Details:**
- **Expiry**: Any future date (e.g., `12/25`)
- **CVV**: Any 3 digits (e.g., `123`)
- **ZIP**: Any valid ZIP code (e.g., `12345`)

**Testing Checklist:**

- ✅ **Successful payment flow** - Use test card 4242
- ✅ **Failed payment handling** - Use decline card
- ✅ **User cancellation** - Close payment sheet
- ✅ **Network errors** - Turn off backend server
- ✅ **iOS and Android** - Test both platforms
- ✅ **Light and dark mode** - Verify appearance

<Tip>
Always test in **test mode** during development. Switch to **live mode** only when ready for production.
</Tip>

##### Platform-Specific Configuration

**iOS Configuration:**

No additional configuration needed! The SDK handles everything automatically.

- **Minimum Version**: iOS 13.0+
- **Auto-configuration**: Pods are auto-linked

**Android Configuration:**

Minimal configuration required.

- **Minimum SDK**: API 24 (Android 7.0+)
- **Target SDK**: API 34 recommended

Add to `android/app/build.gradle` if not already present:

```gradle
android {
    compileSdkVersion 34
    
    defaultConfig {
        minSdkVersion 24
        targetSdkVersion 34
    }
}
```

##### Troubleshooting Common Issues

| Issue | Cause | Solution |
|-------|-------|----------|
| **"Invalid publishable key"** | Wrong key or not set in env | Verify `.env` file has correct `DODO_PUBLISHABLE_KEY` from dashboard |
| **"Payment intent creation failed"** | Backend error or wrong API key | Check server logs, verify `DODOPAYMENTS_TEST_API_KEY` in backend `.env` |
| **"Network request failed"** | Backend not running | Start backend server: `node server.js` on port 5252 |
| **Payment sheet doesn't open** | Invalid `client_secret` | Check backend response format, ensure `clientSecret` is returned |
| **iOS: "Cannot connect to localhost"** | iOS networking issue | Use `http://localhost:5252` for iOS Simulator |
| **Android: "Connection refused"** | Android emulator networking | Use `http://10.0.2.2:5252` instead of localhost for Android |
| **"Missing publishable key"** | Provider not wrapping app | Ensure `<DodoPaymentsProvider>` wraps all payment components |
| **Payment succeeds but result is undefined** | SDK version mismatch | Update to latest SDK version: `npm install dodopayments-react-native-sdk@latest` |

##### Complete Working Example

<Card 
  title="Full React Native SDK Demo" 
  icon="github" 
  href="https://github.com/dodopayments/dodopayments-react-native-demo"
>
  Complete working React Native app with payment flow, success screens, error handling, and full customization examples. Clone and run locally to see the SDK in action.
</Card>

---

### Choosing the Right Approach

<CardGroup cols={2}>
<Card title="Use Checkout Links" icon="link">
  **When to choose:**
  - Quick integration needed
  - Minimal code preferred  
  - Don't need UI customization
  - Already have deep links setup
  - Comfortable with browser-based flow
</Card>

<Card title="Use React Native SDK" icon="mobile">
  **When to choose:**
  - Building production app
  - Want native app experience
  - Need custom branding/styling
  - Want full UX control
  - Prefer direct result handling
  - No deep links needed
</Card>
</CardGroup>

</Tab>
<Tab title="Flutter">

### Flutter Integration

```dart
import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<String> getCheckoutURL(String productId, String customerEmail, String customerName) async {
  final response = await http.post(
    Uri.parse('https://your-backend.com/api/create-checkout-session'),
    headers: {'Content-Type': 'application/json'},
    body: json.encode({
      'productId': productId,
      'customerEmail': customerEmail,
      'customerName': customerName,
    }),
  );
  
  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    return data['checkout_url'];
  } else {
    throw Exception('Failed to get checkout URL: ${response.statusCode}');
  }
}
class PaymentScreen extends StatefulWidget {
  @override
  _PaymentScreenState createState() => _PaymentScreenState();
}
class _PaymentScreenState extends State<PaymentScreen> {
  late WebViewController _controller;
  String? checkoutURL;
  
  @override
  void initState() {
    super.initState();
    _getCheckoutURL();
  }
  
  Future<void> _getCheckoutURL() async {
    try {
      final url = await getCheckoutURL('prod_123', 'customer@example.com', 'Customer Name');
      setState(() {
        checkoutURL = url;
      });
    } catch (e) {
      // Handle error
      print('Failed to get checkout URL: $e');
    }
  }
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Payment')),
      body: checkoutURL == null 
        ? Center(child: CircularProgressIndicator())
        : WebView(
        initialUrl: checkoutURL,
        javascriptMode: JavascriptMode.unrestricted,
        onWebViewCreated: (WebViewController webViewController) {
          _controller = webViewController;
        },
        navigationDelegate: (NavigationRequest request) {
          if (request.url.contains('payment_id') && request.url.contains('status')) {
            // Handle payment completion
            final uri = Uri.parse(request.url);
            final paymentId = uri.queryParameters['payment_id'];
            final status = uri.queryParameters['status'];
            handlePaymentCompletion(paymentId, status);
            return NavigationDecision.prevent;
          }
          return NavigationDecision.navigate;
        },
      ),
    );
  }
  void handlePaymentCompletion(String? paymentId, String? status) {
    if (status == 'succeeded') {
      // Payment successful
    } else {
      // Payment failed
    }
  }
}
```

<Tip>
Use WebView for payment links. Handle the redirect URL to detect payment completion.
</Tip>

</Tab>
</Tabs>

## Best Practices

- **Security**: Never store API keys in your app code. Use secure storage and SSL pinning.
- **User Experience**: Show loading indicators, handle errors gracefully, and provide clear messages.
- **Testing**: Use test cards, simulate network errors, and test on various devices.

## Troubleshooting
### Common Issues

- **WebView not opening payment link**: Ensure the payment link is valid and uses HTTPS.
- **Callback not received**: Check your return URL and webhook configuration.
- **API key errors**: Verify that your API key is correct and has the necessary permissions.


## Additional Resources
- [Payment Integration Guide](/developer-resources/integration-guide)
- [Webhook Documentation](/developer-resources/webhooks/intents/webhook-events-guide)
- [Testing Process](/miscellaneous/testing-process)
- [Technical FAQs](/api-reference/technical-faqs)

<Check>
For questions or support, contact <a href="mailto:support@dodopayments.com">support@dodopayments.com</a>.
</Check> 