---
title: "Supabase Boilerplate"
description: "Use the official Next.js + Supabase + Dodo Payments subscription starter to ship subscriptions fast. Includes auth, database schema, webhook handler, and pricing UI."
icon: "server"
---

<CardGroup cols={2}>
<Card title="GitHub Repository" icon="github" href="https://github.com/dodopayments/dodo-supabase-subscription-starter">
    Minimal Next.js + Supabase + Dodo Payments subscription boilerplate
</Card>
<Card title="Live Demo" icon="rocket" href="https://dodopayments-supabase-nextjs.vercel.app">
    Explore the deployed demo
</Card>
</CardGroup>

## Overview

A production-ready boilerplate for subscriptions using Next.js 15, React 19, Supabase, Drizzle ORM, and Dodo Payments. It ships with Google OAuth, subscription checkout, webhook handling, database schema, and a basic dashboard.

<Info>
If you need only route handlers for an existing app, see the dedicated adaptors: <a href="/developer-resources/nextjs-adaptor">Next.js Adaptor</a> and <a href="/developer-resources/express-adaptor">Express Adaptor</a>.
</Info>

## Prerequisites

- Node.js 18+ (or Bun 1.0+)
- Supabase project (URL, Anon key, Service role key, Database URL)
- Dodo Payments account (API key, Webhook secret)
- Google Cloud OAuth client (Client ID and Secret)

## Quickstart

<Steps>
<Step title="Clone and install">

```bash
git clone https://github.com/dodopayments/dodo-supabase-subscription-starter.git
cd dodo-supabase-subscription-starter
# choose one
bun install
# or
npm install
# or
pnpm install
```
</Step>

<Step title="Create Supabase project">
Create a Supabase project and copy:
- NEXT_PUBLIC_SUPABASE_URL
- NEXT_PUBLIC_SUPABASE_ANON_KEY
- SUPABASE_SERVICE_ROLE_KEY
- DATABASE_URL (Connection string)
</Step>

<Step title="Configure Google OAuth">
Set the redirect URI to: `https://[your-project-ref].supabase.co/auth/v1/callback` in Google Cloud, then enable Google provider in Supabase Auth using your Client ID and Secret.
</Step>

<Step title="Configure Dodo Payments">
Generate an API key and Webhook secret from the Dodo dashboard. Set environment to `test_mode` while developing.
</Step>

<Step title="Create .env.local">

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role

# Database
DATABASE_URL=postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres

# Dodo Payments
DODO_PAYMENTS_API_KEY=your-dodo-api-key
DODO_WEBHOOK_SECRET=your-webhook-secret
DODO_PAYMENTS_ENVIRONMENT=test_mode
```

<Warning>
Never commit secrets. Use environment variables in deployment environments.
</Warning>
</Step>

<Step title="Provision database schema">

```bash
bun run db:push
# or
npm run db:push
# or
pnpm run db:push
```

<Check>
Tables created: `users`, `subscriptions`, `payments`.
</Check>
</Step>

<Step title="Deploy webhook function">

```bash
# login (one-time)
bunx supabase login
# or
npx supabase login

# deploy the edge function
bun run deploy:webhook --project-ref [your-project-ref]
# or
npm run deploy:webhook -- --project-ref [your-project-ref]
# or
pnpm run deploy:webhook --project-ref [your-project-ref]
```


```bash cURL
curl -X POST \
  'https://[your-project-ref].supabase.co/functions/v1/dodo-webhook' \
  -H 'Content-Type: application/json' \
  -H 'Dodo-Signature: <signature>' \
  -d '{"type":"payment.succeeded","data":{}}'
```
</Step>

<Step title="Add webhook in Dodo Payments">
Set endpoint URL to:

```text
https://[your-project-ref].supabase.co/functions/v1/dodo-webhook
```

Select payment and subscription events.
</Step>

<Step title="Create products and features">
In Dodo dashboard → Products → Create Product. Optionally add metadata:

```json
{
  "features": ["Feature 1", "Feature 2", "Feature 3"]
}
```

The pricing UI reads this `features` array and renders it dynamically.
</Step>

<Step title="Run the dev server">

```bash
bun run dev
# or
npm run dev
# or
pnpm run dev
```

Open http://localhost:3000.
</Step>
</Steps>

## What’s included

- Authentication via Supabase (Google OAuth configured)
- Subscription checkout via Dodo Payments
- Supabase Edge Function for webhooks (`dodo-webhook`)
- Drizzle ORM schema and migrations
- Dashboard with invoices, subscription status, and plan features

<Tip>
Keep `DODO_PAYMENTS_ENVIRONMENT` as `test_mode` until you complete end-to-end tests.
</Tip>

## Key files and paths

<Tabs>
<Tab title="Edge Function">
```text
supabase/functions/dodo-webhook/
  index.ts            # webhook handler verifying signatures
  deno.json           # permissions
```
</Tab>
<Tab title="Next.js routes">
```text
app/(marketing)/*     # landing + pricing UI
app/(dashboard)/*     # protected pages
app/api/*             # server actions & helpers
```
</Tab>
<Tab title="Database (Drizzle)">
```text
lib/db/schema.ts      # users, subscriptions, payments
lib/db/index.ts       # client
```
</Tab>
</Tabs>

## Environment variables

<AccordionGroup>
<Accordion title="Supabase">
```env
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
DATABASE_URL=
```
</Accordion>
<Accordion title="Dodo Payments">
```env
DODO_PAYMENTS_API_KEY=
DODO_WEBHOOK_SECRET=
DODO_PAYMENTS_ENVIRONMENT=test_mode|live_mode
```
</Accordion>
<Accordion title="Google OAuth">
```env
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
```
</Accordion>
</AccordionGroup>

## Verification and troubleshooting

<AccordionGroup>
<Accordion title="Webhook signature invalid (401)">
- Ensure `DODO_WEBHOOK_SECRET` matches the value from Dodo dashboard
- Confirm you deployed the latest `dodo-webhook` function
- Verify the header name is correct in your function (Dodo-Signature)
</Accordion>
<Accordion title="Database push fails">
- Check `DATABASE_URL` syntax and Supabase network egress
- Wait ~2–3 minutes after project creation before first push
</Accordion>
<Accordion title="OAuth redirect mismatch">
- Redirect URI must be `https://[ref].supabase.co/auth/v1/callback`
- Ensure the same in Google Cloud and Supabase Auth provider
</Accordion>
</AccordionGroup>

<Check>
You now have a working subscription SaaS scaffolded with Supabase and Dodo Payments.
</Check>

<Info>
Original repository and detailed steps: <a href="https://github.com/dodopayments/dodo-supabase-subscription-starter">dodo-supabase-subscription-starter</a>.
</Info>
