---
sidebarTitle: "Meters"
title: "Meters"
description: "Define how events are aggregated and filtered into billable quantities."
icon: "sliders"
tag: BETA
---

Meters turn raw events into measurable units used for billing.

<Card title="API - Create Meter" icon="code" href="/api-reference/meters/create-meter">
Create meters programmatically and test requests.
</Card>

## What Are Meters?

Use meters to transform raw events into quantities you can bill for. You define the matching rules and the rollup method, and usage is tracked per customer and time period.

- **CI build time**: Match `name = build_completed`; sum `metadata.minutes`.
- **Emails sent**: Match `name = email_sent`; count events.
- **Image processing**: Match `name = image_processed`; sum `metadata.bytes_processed`.

<Info>
Event names and metadata keys are case‑sensitive. Reference metadata keys directly in filters and aggregations (no `metadata.` prefix).
</Info>

## Create a Meter

<Steps>
<Step title="Configure basic information">
<ParamField path="Meter Name" type="string" required>Pick a short, descriptive label (e.g., Build minutes, Emails).</ParamField>
<ParamField path="Description" type="string">Clarify what you measure and how it’s aggregated.</ParamField>
<ParamField path="Event Name" type="string" required>Exact event name you emit.</ParamField>
<Info>Event names must match exactly, including case.</Info>
</Step>

<Step title="Aggregation">
<ParamField path="Aggregation Type" type="string" required>
<Tabs>
<Tab title="Count">Count matching events. No property required.</Tab>
<Tab title="Sum">Add up a numeric property (minutes, bytes, tokens).</Tab>
<Tab title="Average">Compute the mean of a numeric property.</Tab>
<Tab title="Minimum">Smallest observed value of a numeric property.</Tab>
<Tab title="Maximum">Largest observed value of a numeric property.</Tab>
<Tab title="Unique">Distinct count of a property (e.g., unique userId).</Tab>
</Tabs>
</ParamField>

<ParamField path="Over Property" type="string">
Event metadata key to aggregate over. Required for Sum, Average, Minimum, Maximum, and Unique. Not used for Count.
</ParamField>

<ParamField path="Measurement Unit" type="string" required>
Shown on invoices and charts (e.g., calls, tiles, minutes, GB).
</ParamField>
</Step>

<Step title="Optional: Event filtering">
Limit which events contribute to the meter.

<Tabs>
<Tab title="AND logic">All conditions must match (e.g., plan = pro AND method = POST).</Tab>
<Tab title="OR logic">Any condition may match (e.g., endpoint contains /v2 OR /v3).</Tab>
</Tabs>

<Steps>
<Step title="Add condition">Click Add condition.</Step>
<Step title="Property key">Key from event metadata.</Step>
<Step title="Comparator">Equals, Not equals, Greater Than, Greater Than or Equals, Less Than, Less Than or Equals, Contains, Does Not Contain.</Step>
<Step title="Comparison value">Target to compare against.</Step>
<Step title="Groups">Use groups to build complex logic.</Step>
</Steps>

<Warning>If a filtered property is missing, that event will not match the meter.</Warning>
</Step>

<Step title="Create Meter">Review and create the meter.</Step>
</Steps>

## Filters

Filters are one or more clauses combined with logical connectors.

- **Clause**: A single condition an event must satisfy.
- **Property**: Event field to evaluate. Use metadata keys directly (e.g., `minutes`).
- **Operator**: Equals, Not equals, Greater Than, Greater Than or Equals, Less Than, Less Than or Equals, Contains, Does Not Contain.
- **Value parsing**: Values are interpreted in this order: number → boolean (`true`/`false`) → string.
- **Conjunctions**: Use AND when all clauses must hold; OR when any clause can match.

## Aggregation

Choose how to roll up values for events that pass the filter:

- **Count**: Number of matching events.
- **Sum**: Sum of a numeric property.
- **Average**: Mean of a numeric property.
- **Minimum**: Smallest value of a numeric property.
- **Maximum**: Largest value of a numeric property.
- **Unique**: Count of distinct values of a property.

<Tip>
When aggregating over a property, make sure it’s present and numeric when required. For Unique, choose the property to deduplicate (e.g., `userId`).
</Tip>

## Troubleshooting

<AccordionGroup>
<Accordion title="Aggregation not working as expected">
Confirm the Over Property matches an existing metadata key, values are numeric (not strings), and required fields are present on every event.
</Accordion>
<Accordion title="Filtering not working">
Verify property names and cases, pick operators suited to the data type, and ensure the event actually includes the filtered fields.
</Accordion>
</AccordionGroup>


