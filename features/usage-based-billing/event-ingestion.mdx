---
sidebarTitle: "Event Ingestion"
title: "Event Ingestion"
description: "Send usage events with the required structure to feed your meters."
icon: "bolt"
tag: "BETA"
---

Events are the raw inputs that power metering. Each event identifies the customer, the event name tied to a meter, and optional metadata used for aggregation and filters.

<Card title="API - Events Ingestion" icon="code" href="/api-reference/usage-events/ingest-events">
See request/response formats and try it live.
</Card>

## Event Structure

Each usage event should include:

<ParamField body="event_id" type="string" required>
Unique identifier for this event. Must be unique.
</ParamField>

<ParamField body="customer_id" type="string" required>
Customer this usage belongs to.
</ParamField>

<ParamField body="event_name" type="string" required>
Must exactly match the meter’s configured event name (case‑sensitive).
</ParamField>

<ParamField body="timestamp" type="string">
ISO 8601 when the event occurred. Defaults to now if omitted.
</ParamField>

<ParamField body="metadata" type="object">
Key–value properties used for aggregation (e.g., bytes) and filtering (e.g., endpoint, method).
</ParamField>

## Examples

<CodeGroup>
```javascript Node.js
const response = await fetch('https://test.dodopayments.com/events/ingest', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.DODO_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    events: [
      {
        event_id: "api_call_1234",
        customer_id: "cus_atXa1lklCRRzMicTqfiw2",
        event_name: "api.call",
        timestamp: new Date().toISOString(),
        metadata: { endpoint: "/v1/orders", method: "POST", response_size: 1024 }
      }
    ]
  })
});
```

```python Python
import requests
from datetime import datetime

response = requests.post(
    'https://test.dodopayments.com/events/ingest',
    headers={
        'Authorization': f'Bearer {api_key}',
        'Content-Type': 'application/json'
    },
    json={
        'events': [
            {
                'event_id': 'api_call_1234',
                'customer_id': 'cus_atXa1lklCRRzMicTqfiw2',
                'event_name': 'api.call',
                'timestamp': datetime.now().isoformat(),
                'metadata': { 'endpoint': '/v1/orders', 'method': 'POST', 'response_size': 1024 }
            }
        ]
    }
)
```

```curl cURL
curl -X POST 'https://test.dodopayments.com/events/ingest' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "events": [
      {
        "event_id": "api_call_1234",
        "customer_id": "cus_atXa1lklCRRzMicTqfiw2",
        "event_name": "api.call",
        "timestamp": "2024-01-15T10:30:00Z",
        "metadata": { "endpoint": "/v1/orders", "method": "POST", "response_size": 1024 }
      }
    ]
  }'
```
</CodeGroup>

## Troubleshooting

<AccordionGroup>
<Accordion title="Events not showing in meter">
Verify the event_name matches the meter, required metadata is present, customer_id exists, and timestamps fall within the billing window.
</Accordion>
</AccordionGroup>


